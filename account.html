<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>MusicTools</title>
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCkr17eHQRyOX4tlE-qluYt52AhXM7Gg0I",
        authDomain: "fir-musictools.firebaseapp.com",
        databaseURL: "https://fir-musictools.firebaseio.com",
        storageBucket: "firebase-musictools.appspot.com",
      };
      firebase.initializeApp(config);
      var database = firebase.database();
      var storage = firebase.storage();
      var storage = storage.ref();
      
      var masterSignedInBool;
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div id="container">
      <header>
        <a href="index.html">
          <span id="imgandtitle">
            <img src="ic_launcher.png" height="35px" />
            <span id="title">MusicTools</span>
          </span>
        </a>
        <span class="spacer">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </span>
        <!--<a href="/messages">
          <span id="messageslink">
            Messages
          </span>
        </a>-->
        <a href="/account">
          <span id="accountimgandname">
             <span class="larger"></span> Signed Out
            <img src="ic_account.svg" height="35px" id="accountImage" align="middle"/>
          </span>
        </a>
      </header>
      <div id="content">
        <center>
        <img src="ic_account_dark.svg" width="100px" id="image" onClick="updateImage()" style="cursor:pointer;"/><br />
        <span id="name" style="font-weight:bold; font-size:30px;">Signed Out</span><br />
        <span id="email"></span><br />
        <button onClick="signIn()" id="signin" style="display:none;">Sign In</button>
        <button onClick="signOut()" id="signout" style="display:none;">Sign Out</button>
        <button onClick="accountDelete()" id="delete" style="display:none;">Delete Account</button>
        </center>
      </div>  
      <footer>
        &copy; Sub 6 Resources 2016
      </footer>
    </div>
    <script>
      function handleSignIn() {
          //alert("Handling sign in2");
          document.getElementById("signin").style.display="none";
          document.getElementById("signout").style.display="inline";
          document.getElementById("delete").style.display="inline";
          document.getElementById("email").style.display="block";
          document.getElementById("name").style.display="block";
        
          masterSignedInBool = true;
      }
      function handleSignOut() {
          //alert("Handling sign out2");
          document.getElementById("signin").style.display="inline";
          document.getElementById("signout").style.display="none";
          document.getElementById("delete").style.display="none";
          document.getElementById("email").style.display="none";
          document.getElementById("name").innerHTML = "Signed Out";
        
          masterSignedInBool = false;
      }
      function onAuthInit() {
        if(signedOut) {
          
        } else {
          
        }
        if(photoURL == null || photoURL == "null.svg") {
          photoURL = "null.svg";
          photoURLDark = "ic_account_dark.svg"
        } else {
          photoURLDark = photoURL;
        }
        if(displayName == undefined) {
          displayName = "Signed Out";
        }
        if(email == undefined || email == null || email == "") {
          email == "";
        }
        document.getElementById("accountimgandname").innerHTML=" <span class='larger'></span> "+displayName+" <img src='"+photoURL+"' height='35px' id='accountImage' align='middle' />";
        document.getElementById("name").innerHTML = displayName;
        document.getElementById("email").innerHTML = ""+email;
        document.getElementById("image").src = photoURLDark;
        if(document.getElementById("email").innerHTML == "undefined") {
          document.getElementById("email").innerHTML = "";
        }
      }
      function updateImage() {
        alert("UPDATE IMAGE FLOW STARTED");
      }
    </script>
    <script src="account.js"></script>
    <script src="app.js"></script>
    <link href="styles.css" rel="stylesheet">
  </body>
</html>
